{"ast":null,"code":"import _regeneratorRuntime from\"/Users/willsegura/Documents/comercio/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/willsegura/Documents/comercio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{loginRequest,loginSuccess,loginFailure,clearMessage,loginLogout}from'../types/loginTypes';import{axiosFetch}from'../../config/url/url';var logRequest=function logRequest(){return{type:loginRequest};};var logSuccess=function logSuccess(email){return{type:loginSuccess,payload:email};};var logFailure=function logFailure(msg){return{type:loginFailure,payload:msg};};var clearMsg=function clearMsg(){return{type:clearMessage};};export var logout=function logout(){localStorage.clear();window.location.reload();return{type:loginLogout};};export var register=function register(cliente,nropedido,telefono,idcliente,email,receptor,fepedido,feinicio,fefinalizacion,autorizado,descripcion){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var _yield$axiosFetch$pos,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(logRequest());_context.prev=1;_context.next=4;return axiosFetch.post('/login',{cliente:cliente,nropedido:nropedido,telefono:telefono,idcliente:idcliente,email:email,receptor:receptor,fepedido:fepedido,feinicio:feinicio,fefinalizacion:fefinalizacion,autorizado:autorizado,descripcion:descripcion});case 4:_yield$axiosFetch$pos=_context.sent;data=_yield$axiosFetch$pos.data;console.log(data);localStorage.setItem('user',JSON.stringify(data.data.nombre));localStorage.setItem('isAuthenticated',true);localStorage.setItem('data',JSON.stringify(data.data));dispatch(logSuccess(data));_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);dispatch(logFailure(_context.t0.response.data.msg));setTimeout(function(){dispatch(clearMsg());},3000);case 17:case\"end\":return _context.stop();}},_callee,null,[[1,13]]);}));return function(_x){return _ref.apply(this,arguments);};}();};","map":{"version":3,"names":["loginRequest","loginSuccess","loginFailure","clearMessage","loginLogout","axiosFetch","logRequest","type","logSuccess","email","payload","logFailure","msg","clearMsg","logout","localStorage","clear","window","location","reload","register","cliente","nropedido","telefono","idcliente","receptor","fepedido","feinicio","fefinalizacion","autorizado","descripcion","dispatch","post","data","console","log","setItem","JSON","stringify","nombre","response","setTimeout"],"sources":["/Users/willsegura/Documents/comercio/src/redux/actions/registerActions.jsx"],"sourcesContent":["import {\n\tloginRequest,\n\tloginSuccess,\n\tloginFailure,\n\tclearMessage,\n\tloginLogout,\n} from '../types/loginTypes';\nimport { axiosFetch } from '../../config/url/url';\n\nconst logRequest = () => {\n\treturn {\n\t\ttype: loginRequest,\n\t};\n};\nconst logSuccess = email => {\n\treturn {\n\t\ttype: loginSuccess,\n\t\tpayload: email,\n\t};\n};\nconst logFailure = msg => {\n\treturn {\n\t\ttype: loginFailure,\n\t\tpayload: msg,\n\t};\n};\nconst clearMsg = () => {\n\treturn {\n\t\ttype: clearMessage,\n\t};\n};\nexport const logout = () => {\n\tlocalStorage.clear();\n\twindow.location.reload();\n\treturn {\n\t\ttype: loginLogout,\n\t};\n};\n\nexport const register = (cliente,\n    nropedido,\n\ttelefono,\n\tidcliente,\n\temail,\n\treceptor,\n\tfepedido,\n\tfeinicio,\n\tfefinalizacion,\n\tautorizado,\n\tdescripcion) => async dispatch => {\n\tdispatch(logRequest());\n\ttry {\n\t\t\n\t\tconst { data } = await axiosFetch.post('/login', {\n\t\t\tcliente,\n    nropedido,\n\ttelefono,\n\tidcliente,\n\temail,\n\treceptor,\n\tfepedido,\n\tfeinicio,\n\tfefinalizacion,\n\tautorizado,\n\tdescripcion\n\t\t});\n\t\tconsole.log(data);\n\t\tlocalStorage.setItem('user', JSON.stringify(data.data.nombre));\n\t\tlocalStorage.setItem('isAuthenticated', true);\n\t\tlocalStorage.setItem('data', JSON.stringify(data.data));\n\n\t\tdispatch(logSuccess(data));\n\t} catch (error) {\n\t\tdispatch(logFailure(error.response.data.msg));\n\t\tsetTimeout(() => {\n\t\t\tdispatch(clearMsg());\n\t\t}, 3000);\n\t}\n};\n"],"mappings":"oQAAA,OACCA,YAAY,CACZC,YAAY,CACZC,YAAY,CACZC,YAAY,CACZC,WAAW,KACL,qBAAqB,CAC5B,OAASC,UAAU,KAAQ,sBAAsB,CAEjD,GAAMC,WAAU,CAAG,QAAbA,WAAU,EAAS,CACxB,MAAO,CACNC,IAAI,CAAEP,YACP,CAAC,CACF,CAAC,CACD,GAAMQ,WAAU,CAAG,QAAbA,WAAU,CAAGC,KAAK,CAAI,CAC3B,MAAO,CACNF,IAAI,CAAEN,YAAY,CAClBS,OAAO,CAAED,KACV,CAAC,CACF,CAAC,CACD,GAAME,WAAU,CAAG,QAAbA,WAAU,CAAGC,GAAG,CAAI,CACzB,MAAO,CACNL,IAAI,CAAEL,YAAY,CAClBQ,OAAO,CAAEE,GACV,CAAC,CACF,CAAC,CACD,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACtB,MAAO,CACNN,IAAI,CAAEJ,YACP,CAAC,CACF,CAAC,CACD,MAAO,IAAMW,OAAM,CAAG,QAATA,OAAM,EAAS,CAC3BC,YAAY,CAACC,KAAK,EAAE,CACpBC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE,CACxB,MAAO,CACNZ,IAAI,CAAEH,WACP,CAAC,CACF,CAAC,CAED,MAAO,IAAMgB,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,OAAO,CAC5BC,SAAS,CACZC,QAAQ,CACRC,SAAS,CACTf,KAAK,CACLgB,QAAQ,CACRC,QAAQ,CACRC,QAAQ,CACRC,cAAc,CACdC,UAAU,CACVC,WAAW,mGAAK,iBAAMC,QAAQ,kJAC9BA,QAAQ,CAACzB,UAAU,EAAE,CAAC,CAAC,sCAGCD,WAAU,CAAC2B,IAAI,CAAC,QAAQ,CAAE,CAChDX,OAAO,CAAPA,OAAO,CACNC,SAAS,CAATA,SAAS,CACZC,QAAQ,CAARA,QAAQ,CACRC,SAAS,CAATA,SAAS,CACTf,KAAK,CAALA,KAAK,CACLgB,QAAQ,CAARA,QAAQ,CACRC,QAAQ,CAARA,QAAQ,CACRC,QAAQ,CAARA,QAAQ,CACRC,cAAc,CAAdA,cAAc,CACdC,UAAU,CAAVA,UAAU,CACVC,WAAW,CAAXA,WACC,CAAC,CAAC,4CAZMG,IAAI,uBAAJA,IAAI,CAaZC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjBlB,YAAY,CAACqB,OAAO,CAAC,MAAM,CAAEC,IAAI,CAACC,SAAS,CAACL,IAAI,CAACA,IAAI,CAACM,MAAM,CAAC,CAAC,CAC9DxB,YAAY,CAACqB,OAAO,CAAC,iBAAiB,CAAE,IAAI,CAAC,CAC7CrB,YAAY,CAACqB,OAAO,CAAC,MAAM,CAAEC,IAAI,CAACC,SAAS,CAACL,IAAI,CAACA,IAAI,CAAC,CAAC,CAEvDF,QAAQ,CAACvB,UAAU,CAACyB,IAAI,CAAC,CAAC,CAAC,iFAE3BF,QAAQ,CAACpB,UAAU,CAAC,YAAM6B,QAAQ,CAACP,IAAI,CAACrB,GAAG,CAAC,CAAC,CAC7C6B,UAAU,CAAC,UAAM,CAChBV,QAAQ,CAAClB,QAAQ,EAAE,CAAC,CACrB,CAAC,CAAE,IAAI,CAAC,CAAC,oEAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}